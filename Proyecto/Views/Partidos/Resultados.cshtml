@model IEnumerable<Domain.Singles.sPartidos>
@using GridMvc.Sorting
@using GridMvc.Html

@{
    ViewBag.Title = "Calendario";
    Html.RenderAction("HeadInfo", "Ligas", new { id = ViewBag.LigaId });
}


<ul id="tabs" class="nav nav-tabs na" data-tabs="tabs">
    <li>@Html.ActionLink("Ligas", "Index", "Ligas", null, new { @class = "btn btn-primary" })</li>
    <li>@Html.ActionLink("Clasificacion", "Clasificacion", "Ligas", new { idLiga = ViewBag.LigaId }, null)</li>
    <li>@Html.ActionLink("Calendario", "Calendario", "Partidos", new { idLiga = ViewBag.LigaId }, null)</li>
    <li class="active"><a href="#" data-toggle="tab">Resultados</a></li>


</ul>

    @Html.Hidden("liga", (long)ViewBag.LigaId)


</br>

<small>

    @Html.Grid(Model).EmptyText("No hay datos que mostrar").Columns(columns =>
            {
                columns.Add(m => m.ReturnDateForDisplay).Titled("Fecha y hora");
                columns.Add(m => m.nombreLocal).Titled("Local");
                columns.Add(m => m.nombreVisitante).Titled("Visitante");
                columns.Add(m => m.resultado).Titled("Resultado");

                columns.Add()
                     .Encoded(false)
                     .Sanitized(false)
                     .RenderValueAs(m => CustomRenderingOfColumnFicha(m));

            }).WithPaging(20).Sortable(true)

        </small>

        @helper CustomRenderingOfColumnFicha(Domain.Singles.sPartidos datos)
{
    <div>
        @Html.ActionLink(" ", "borrarResultado", "EstadisticasPartidos", new { id = datos.idPartido }, new { @class = "btn btn-default btn-sm glyphicon glyphicon-remove", title = "Eliminar" })
       

        </div>


}

        <script>
            function ClearModal() {
                $('#modalContent').html('');
            }

    function checkSuccess(result) {

        if (result.success == true) {
            if (result.reload) document.location.reload();
            if (result.redirect != null) document.location.href = result.redirect;
        };

        $('#warningMessage').html(result.messaje);

    }

        </script>
